<div class="fixed-top">
    <div class="header">
        <div class="container">
            <h2>Settings</h2>
        </div>
    </div>
    <sca-menutab menu="settings_menu" active="'users'" user="menu.user"></sca-menutab>
</div>
<div class="container" style="margin-top: 130px;">
    <p class="alert alert-danger" ng-if="!user.active">Account disabled (user can not issue new jwt token)</p>
    <!--<p class="alert alert-warning">This is a prototype</p>-->
    <form ng-submit="submit()">
        <h3>{{user.username}}</h3>
        <div class="checkbox">
            <label>
                <input type="checkbox" ng-model="user.active"> Active
            </label>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label>Profile</label>
                    <textarea class="form-control" ng-model="profile" style="height: 400px;" validjson required></textarea>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Scope</label>
                    <textarea class="form-control" ng-model="scopes" style="height: 400px;" validjson required></textarea>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label>Fullname</label>
            <input type="text" class="form-control" ng-model="user.fullname" required>
        </div>
        <div class="form-group">
            <label>Username</label>
            <input type="text" class="form-control" ng-model="user.username" required>
        </div>
        <div class="form-group">
            <label>Email</label>
            <input type="email" class="form-control" ng-model="user.email" required>
        </div>
        <div class="checkbox">
            <label>
                <input type="checkbox" ng-model="user.email_confirmed"> Email Confirmed
            </label>
        </div>
        <hr>

        <div class="form-group" ng-show="appconf.show.facebook">
            <label>Facebook</label>
            <input type="text" class="form-control" ng-model="user.ext.facebook"/>
        </div>
        <div class="form-group" ng-show="appconf.show.iucas">
            <label>IUCAS</label>
            <input type="text" class="form-control" ng-model="user.ext.iucas"/>
        </div>
        <div class="form-group" ng-show="appconf.show.google">
            <label>Google ID</label>
            <input type="text" class="form-control" ng-model="user.ext.googleid">
        </div>
        <div class="form-group" ng-show="appconf.show.orcid">
            <label>ORCID</label>
            <input type="text" class="form-control" ng-model="user.ext.orcid">
        </div>
        <div class="form-group" ng-show="appconf.show.github">
            <label>GIT ID</label>
            <input type="text" class="form-control" ng-model="user.ext.github"/>
        </div>
        <div class="form-group" ng-show="appconf.show.x509">
            <label>X509</label>
            <p class="help-block">TODO.. I will update this to a bit more user friendly esitor</p>
            <textarea class="form-control" ng-model="x509dns" style="height: 100px;" validjson></textarea>
        </div>
        <div class="form-group" ng-show="appconf.show.oidc">
            <label>OpenID</label>
            <p class="help-block">TODO.. I will update this to a bit more user friendly esitor</p>
            <textarea class="form-control" ng-model="openids" style="height: 100px;" validjson></textarea>
        </div>
        <hr>
        <pre>{{user.times|json}}</pre>

        <div class="pull-right">
            <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>
            <button type="submit" class="btn btn-primary">Update</button>
        </div>
        <br clear="both">
    </form>
    <br>
    <ng-include src="'t/footer.html'"></ng-include> <!--should this be part of view?-->
</div>

